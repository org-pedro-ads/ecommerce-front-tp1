<app-header></app-header>
<div class="page-container">

  <div class="header-box">
    <div class="icon-circle">
      <i class="fas fa-box"></i>
    </div>

    <h1>Gerenciar Produtos</h1>
    <p>Gerencie todos os produtos do catálogo</p>

    <a class="add-btn" routerLink="/register-products">
      <i class="fas fa-plus"></i>
      Adicionar Produto
    </a>
  </div>

  <div class="product-card">
    <h2 class="section-title">Produtos Cadastrados ({{ products.length }})</h2>

    <table class="table">
      <thead>
        <tr>
          <th>Nome</th>
          <th>Categoria</th>
          <th>Preço</th>
          <th>Estoque</th>
          <th>Ações</th>
        </tr>
      </thead>

      <tbody>

        @for (p of products; track p.id) {
        <tr>
          <td>{{ p.nome }}</td>
          <td>{{ p.categoria }}</td>
          <td>R$ {{ p.preco | number:'1.2-2' }}</td>

          <td>
            <span class="badge" [class.low]="p.estoque <= 20" [class.medium]="p.estoque > 20 && p.estoque <= 50"
              [class.high]="p.estoque > 50">
              {{ p.estoque }}
            </span>
          </td>

          <td class="actions">

            <button class="icon-btn edit" (click)="edit(p.id)">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 20h9"></path>
                <path d="M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
              </svg>
            </button>

            <button class="icon-btn remove" (click)="remove(p.id)">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M10 11v6"></path>
                <path d="M14 11v6"></path>
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"></path>
                <path d="M3 6h18"></path>
                <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
              </svg>
            </button>

          </td>
        </tr>
        }

      </tbody>
    </table>
  </div>

</div>
<app-footer></app-footer>